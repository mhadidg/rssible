<!doctype html>
<html lang="en">
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
<link rel="stylesheet" href="/css/styles.css">
<script src="/js/app.js" defer></script>
<title>Every link is RSSible</title>

<h1>RSSible
  <small style="font-size: 20px; color: rgb(0,0,0,0.5); font-weight: 300; position: relative; top: -5px;"> (html | json)</small>
</h1>

<p>
  Paste a URL and CSS selectors; get an RSS feed;
  free and <a href="https://github.com/mhadidg/rssible">opensource</a>.
</p>
<p>
  Runs entirely on the <em>free tier</em> of
  <a href="https://workers.cloudflare.com">Cloudflare workers</a>.
  Click on the demo links â¤¸ to see it in action.
</p>

<ul id="demos">
  <li>
    <a href="#" class="demo"
       data-config='{"url":"https://www.producthunt.com","item":"[data-test$=\"today\"] section","title":"a[href^=\"/products\"]","link":"a[href^=\"/products\"]","desc":".text-secondary","limit":"10"}'
    >Product Hunt</a>: the front page
  </li>
  <li>
    <a href="#" class="demo"
       data-config='{"url":"https://www.anthropic.com/news","item":"a[href^=\"/news\"][class^=\"Card\"]","title":"h3","link":"@","date":"p"}'
    >Anthropic news</a> (special <code>@</code> for link means the item selector itself)
  </li>
  <li>
    <a href="#" class="demo"
       data-config='{"url":"https://hn.algolia.com/api/v1/search_by_date?query=github.com&numericFilters=points>100","item":".hits > ._item","title":"> .title","link":"> .url","limit":"10","filters":"link=/(github)/i"}'
    >HN Algolia</a>: HN posts filtered to Github links only; â‰¥100 points (JSON page)
  </li>
  <li>
    <a href="#" class="demo"
       data-config='{"url":"https://api.github.com/users/yyx990803/starred","item":"._root > ._item","title":"> .name","link":"> .html_url","limit":"10"}'
    >Github /stars</a>: (any) user stars (JSON page)
  </li>
  <li>
    <a href="#" class="demo"
       data-config='{"url":"https://www.reddit.com/r/science/top/.json?t=week","item":".children > ._item > .data","title":"> .title","link":"> .url","filters":"item=/Neuroscience|Psychology/","limit":"10"}'
    >Reddit r/science</a>: top 10 over 7-days window; filtered to Neuroscience & Psychology
  </li>
  <li>
    <a href="#" class="demo"
       data-config='{"url":"https://www.imdb.com/search/title/?title_type=tv_series,tv_miniseries&num_votes=10000,&genres=sci-fi&sort=release_date,desc","item":".ipc-metadata-list-summary-item","title":".ipc-title","link":".ipc-title-link-wrapper","desc":".ipc-html-content-inner-div","limit":"10"}'
    >IMDb Sci-Fi Series</a>: latest; â‰¥10k votes
  </li>
</ul>

<form method="GET" action="/feed">
  <input name="url" placeholder="page url" required/>

  <div class="row">
    <div class="input-container item">
      <span class="sticky-text">$</span>
      <input
        name="_item" placeholder="items container (e.g., .post)"
        title="The base selector for the rest of the fields, e.g., title selector will be '{item} {title}'" required/>
    </div>
    <div class="input-container title">
      <span class="sticky-text">title</span>
      <input name="title" placeholder=".post-title"/>
    </div>
  </div>

  <div class="row">
    <div class="input-container link">
      <span class="sticky-text">link</span>
      <input name="link" placeholder=".post-title a"/>
    </div>
    <div class="input-container desc">
      <span class="sticky-text">desc</span>
      <input name="desc" placeholder=".post-excerpt"/>
    </div>
  </div>

  <div class="row" id="row-full-only">
    <div class="input-container date">
      <span class="sticky-text">date</span>
      <input name="date" placeholder=".post-date" title="Must be parsable by JS Date()."/>
    </div>
    <div class="input-container limit">
      <span class="sticky-text">limit</span>
      <input name="limit" placeholder="5" title="Max number of items to include (default 5, max 25)"/>
    </div>
  </div>

  <div class="row" id="row-advanced-only">
    <div class="textarea-wrapper">
      <textarea
        name="headers_text" rows="4" title="Empty headers are allowed; unsupported headers will be ignored."
        placeholder="custom headers (RFC-style, one per line):&#10;User-Agent: RSSible/1.0&#10;Accept: */*"></textarea>
      <input name="headers" type="hidden"/>
    </div>
    <div class="textarea-wrapper">
      <textarea
        name="filters" rows="4" title="Supported keys: item, title, link, desc. 'item' matches any text inside."
        placeholder="filters (JS-style, one per line; hover for keys):&#10;item=/keyword/i&#10;title=/python|rust/i"></textarea>
    </div>
  </div>

  <div class="row">
    <button type="button" id="preview-btn" title="Show first two items as RSS <item> nodes">Preview</button>
    <button type="submit" title="Build the RSS feed URL">Copy link</button>
  </div>
</form>

<p></p>

<small>
  <b>Important:</b> don't repeat the <em>item</em> selector in title/link/desc/date selectors.
  Think of the <em>item</em> as the div container for, say, article, and <em>item details</em>
  as child/nested elements <em>inside</em> each article.<br>

  <div class="separator"></div>

  <b>JSON pages:</b> internally converted to HTML (nested div elements), where class names match
  the JSON keys, e.g.,<code>title</code> becomes <code>class="title"</code>. This means you can
  use the same CSS selectors as HTML pages. Root object has special <code>_root</code> class; array
  items <code>_item</code> class. Use <code>?mirror=1</code> param to see the converted HTML
  version of a JSON page
  (<a href="/feed?url=https%3A%2F%2Fapi.agify.io%2F%3Fname%3Ddude&mirror=1">example</a>;
  <a href="https://api.agify.io/?name=dude">json link</a>).

  <div class="separator"></div>

  <b>Pro tip:</b> filters are inclusive - they include items that match the pattern. To exclude,
  use a negative lookahead, e.g. <code>/^(?!.*(perl)).*$/</code> matches everything except strings
  containing "perl".<br>
</small>

<pre id="preview">
  <code>// ðŸ‘€ Your preview will show up here...</code>
</pre>

<footer class="site-footer">
  Made by <a href="https://hadid.dev" rel="noopener noreferrer">Mustapha</a>;
  inspired by <a href="https://github.com/kevinschaul/feedmaker/" rel="noopener noreferrer">Feedmaker</a>.
</footer>
</html>
